import{_ as c,D as l,n as v,a as C}from"./index-e9a6487e.js";var u=function(){function r(s){C(this,r),this._canvasPool=Object.create(null),this.canvasOptions=s||{},this.enableFullScreen=!1}return c(r,[{key:"_createCanvasAndContext",value:function(a,e){var t=l.get().createCanvas();t.width=a,t.height=e;var n=t.getContext("2d");return{canvas:t,context:n}}},{key:"getOptimalCanvasAndContext",value:function(a,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a=Math.ceil(a*t-1e-6),e=Math.ceil(e*t-1e-6),a=v(a),e=v(e);var n=(a<<17)+(e<<1);this._canvasPool[n]||(this._canvasPool[n]=[]);var o=this._canvasPool[n].pop();return o||(o=this._createCanvasAndContext(a,e)),o}},{key:"returnCanvasAndContext",value:function(a){var e=a.canvas,t=e.width,n=e.height,o=(t<<17)+(n<<1);this._canvasPool[o].push(a)}},{key:"clear",value:function(){this._canvasPool={}}}]),r}(),x=new u;export{x as C};
